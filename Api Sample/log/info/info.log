2025/04/17 10:02:30 INFO  Version:21 - HV000001: Hibernate Validator 8.0.0.Final
2025/04/17 10:02:31 INFO  RepositoryConfigurationDelegate:138 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025/04/17 10:02:31 INFO  RepositoryConfigurationDelegate:208 - Finished Spring Data repository scanning in 67 ms. Found 3 JPA repository interfaces.
2025/04/17 10:02:32 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8801 (http)
2025/04/17 10:02:32 INFO  Http11NioProtocol:173 - Initializing ProtocolHandler ["http-nio-8801"]
2025/04/17 10:02:32 INFO  StandardService:173 - Starting service [Tomcat]
2025/04/17 10:02:32 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/10.1.10]
2025/04/17 10:02:32 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2025/04/17 10:02:32 INFO  ServletWebServerApplicationContext:291 - Root WebApplicationContext: initialization completed in 1762 ms
2025/04/17 10:02:32 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2025/04/17 10:02:32 INFO  Version:44 - HHH000412: Hibernate ORM core version 6.1.7.Final
2025/04/17 10:02:33 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2025/04/17 10:02:33 INFO  HikariPool:565 - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b544732
2025/04/17 10:02:33 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2025/04/17 10:02:33 INFO  SQL dialect:66 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025/04/17 10:02:35 INFO  JtaPlatformInitiator:51 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025/04/17 10:02:35 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025/04/17 10:02:36 INFO  DefaultSecurityFilterChain:54 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8b71052, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2738a1fc, org.springframework.security.web.context.SecurityContextHolderFilter@45dfb6a4, org.springframework.security.web.header.HeaderWriterFilter@6df4d8f1, org.springframework.security.web.authentication.logout.LogoutFilter@45a40353, com.example.apisample.config.JwtAuthFilter@3e0b1f03, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12ebcdf6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39a1c200, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d7d0946, org.springframework.security.web.session.SessionManagementFilter@a5df98c, org.springframework.security.web.access.ExceptionTranslationFilter@d695f9d, org.springframework.security.web.access.intercept.AuthorizationFilter@1a5c0b8]
2025/04/17 10:02:36 INFO  Http11NioProtocol:173 - Starting ProtocolHandler ["http-nio-8801"]
2025/04/17 10:02:36 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8801 (http) with context path ''
2025/04/17 10:02:36 DEBUG SQL:128 - 
    select
        o1_0.id,
        o1_0.code,
        o1_0.expires_at,
        o1_0.type,
        o1_0.is_used,
        o1_0.user_id 
    from
        otp_codes o1_0 
    where
        o1_0.expires_at<?
2025/04/17 10:03:22 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025/04/17 10:03:22 INFO  DispatcherServlet:532 - Initializing Servlet 'dispatcherServlet'
2025/04/17 10:03:22 INFO  DispatcherServlet:554 - Completed initialization in 4 ms
2025/04/17 10:03:23 INFO  AbstractOpenApiResource:390 - Init duration for springdoc-openapi is: 315 ms
2025/04/17 10:03:39 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:03:39 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:03:39 DEBUG SQL:128 - 
    insert 
    into
        otp_codes
        (code, expires_at, type, is_used, user_id) 
    values
        (?, ?, ?, ?, ?)
2025/04/17 10:04:08 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:04:08 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:04:09 DEBUG SQL:128 - 
    select
        o1_0.id,
        o1_0.code,
        o1_0.expires_at,
        o1_0.type,
        o1_0.is_used,
        o1_0.user_id 
    from
        otp_codes o1_0 
    where
        o1_0.user_id=? 
        and o1_0.type=? 
    order by
        o1_0.expires_at desc fetch first ? rows only
2025/04/17 10:04:09 DEBUG SQL:128 - 
    update
        otp_codes 
    set
        code=?,
        expires_at=?,
        type=?,
        is_used=?,
        user_id=? 
    where
        id=?
2025/04/17 10:04:09 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:04:09 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:04:20 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:04:20 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:04:22 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:04:22 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:04:26 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:04:26 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:04:26 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        r1_0.id,
        r1_0.role_name,
        u1_0.token_version 
    from
        users u1_0 
    join
        roles r1_0 
            on r1_0.id=u1_0.role_id 
    where
        u1_0.id=?
2025/04/17 10:04:26 DEBUG SQL:128 - 
    update
        users 
    set
        is_deleted=?,
        email=?,
        first_name=?,
        last_name=?,
        password=?,
        phone=?,
        role_id=?,
        token_version=? 
    where
        id=?
2025/04/17 10:04:33 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:04:33 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:04:35 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:04:35 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:04:53 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:04:53 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:04:53 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:04:53 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:04:53 DEBUG SQL:128 - 
    insert 
    into
        otp_codes
        (code, expires_at, type, is_used, user_id) 
    values
        (?, ?, ?, ?, ?)
2025/04/17 10:05:11 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:05:11 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:05:11 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:05:11 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:05:11 DEBUG SQL:128 - 
    select
        o1_0.id,
        o1_0.code,
        o1_0.expires_at,
        o1_0.type,
        o1_0.is_used,
        o1_0.user_id 
    from
        otp_codes o1_0 
    where
        o1_0.user_id=? 
        and o1_0.type=? 
    order by
        o1_0.expires_at desc fetch first ? rows only
2025/04/17 10:05:11 DEBUG SQL:128 - 
    update
        otp_codes 
    set
        code=?,
        expires_at=?,
        type=?,
        is_used=?,
        user_id=? 
    where
        id=?
2025/04/17 10:05:11 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:05:11 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:05:29 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:05:29 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:05:29 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:05:29 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:05:29 DEBUG SQL:128 - 
    select
        o1_0.id,
        o1_0.code,
        o1_0.expires_at,
        o1_0.type,
        o1_0.is_used,
        o1_0.user_id 
    from
        otp_codes o1_0 
    where
        o1_0.user_id=? 
        and o1_0.type=? 
    order by
        o1_0.expires_at desc fetch first ? rows only
2025/04/17 10:05:46 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:05:46 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:05:47 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:05:47 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:05:54 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.role_id,
        u1_0.token_version 
    from
        users u1_0 
    where
        u1_0.email=?
2025/04/17 10:05:54 DEBUG SQL:128 - 
    select
        r1_0.id,
        r1_0.role_name 
    from
        roles r1_0 
    where
        r1_0.id=?
2025/04/17 10:05:54 DEBUG SQL:128 - 
    select
        u1_0.id,
        u1_0.is_deleted,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        r1_0.id,
        r1_0.role_name,
        u1_0.token_version 
    from
        users u1_0 
    join
        roles r1_0 
            on r1_0.id=u1_0.role_id 
    where
        u1_0.id=?
2025/04/17 10:05:54 DEBUG SQL:128 - 
    update
        users 
    set
        is_deleted=?,
        email=?,
        first_name=?,
        last_name=?,
        password=?,
        phone=?,
        role_id=?,
        token_version=? 
    where
        id=?
2025/04/17 10:06:35 INFO  LocalContainerEntityManagerFactoryBean:650 - Closing JPA EntityManagerFactory for persistence unit 'default'
2025/04/17 10:06:35 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2025/04/17 10:06:35 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
